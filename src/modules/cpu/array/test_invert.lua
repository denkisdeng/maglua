function printMat(name, M)
	local default = {"  " .. name, "(" .. M:ny() .. "x" .. M:nx() .. ")"}
	for r=1,M:ny() do
		local t = {default[r] or ""}
		for c=1,M:nx() do
			table.insert(t, string.format("% 06.6f", M:get(c,r)))
		end
		print(table.concat(t, "\t"))
	end
	print()
end

n = 8
A = Array.Double.new(n, n)

for i=1,n do
	for j=1,n do
		A:set({i,j}, math.random())
	end
end

B = A:matInvert()

printMat("A", A)

printMat("B", B)

printMat("C", A:matMul(B))

-- Sample Output:
--   A	 0.840188	 0.277775	 0.635712	 0.156679	 0.612640	 0.526745	 0.069755	 0.064171
-- (8x8) 0.394383	 0.553970	 0.717297	 0.400944	 0.296032	 0.769914	 0.949327	 0.020023
--	 	 0.783099	 0.477397	 0.141603	 0.129790	 0.637552	 0.400229	 0.525995	 0.457702
-- 	 	 0.798440	 0.628871	 0.606969	 0.108809	 0.524287	 0.891529	 0.086056	 0.063096
-- 	 	 0.911647	 0.364784	 0.016301	 0.998925	 0.493583	 0.283315	 0.192214	 0.238280
-- 	 	 0.197551	 0.513401	 0.242887	 0.218257	 0.972775	 0.352458	 0.663227	 0.970634
-- 		 0.335223	 0.952230	 0.137232	 0.512932	 0.292517	 0.807725	 0.890233	 0.902208
-- 		 0.768230	 0.916195	 0.804177	 0.839112	 0.771358	 0.919026	 0.348893	 0.850920
-- 
--   B	  1.471393	-0.402798	 1.319444	-1.178617	-0.227908	-1.172819	 0.523373	 0.122915
-- (8x8)-11.749266	 1.783903	 7.755224	 3.013127	-1.298626	-1.781902	-6.492673	 5.729453
-- 		 -1.044997	 0.815318	 1.893192	-1.130558	-1.268925	-1.037265	-1.728439	 2.496270
-- 		  0.289445	 0.188248	-1.432896	-0.194539	 1.030120	 0.339820	 0.229214	-0.160210
-- 		 -1.685809	 0.311023	-0.371273	 1.760768	 0.763624	 1.724188	-1.401747	-0.505401
-- 		  8.266963	-1.635870	-7.460354	 0.050873	 1.443660	 1.959181	 5.852799	-5.420517
-- 		  0.641355	 0.742016	 0.302032	-0.875919	-0.023165	 0.042239	 0.413849	-0.643826
-- 		  4.360902	-1.332639	-1.647351	-2.211829	-0.454534	-0.073661	 2.705427	-0.729401
-- 
--   C	 1.000000	 0.000000	 0.000000	-0.000000	-0.000000	 0.000000	-0.000000	-0.000000
-- (8x8)-0.000000	 1.000000	 0.000000	-0.000000	 0.000000	 0.000000	-0.000000	-0.000000
-- 		-0.000000	 0.000000	 1.000000	-0.000000	 0.000000	 0.000000	-0.000000	-0.000000
-- 		-0.000000	 0.000000	 0.000000	 1.000000	 0.000000	 0.000000	-0.000000	 0.000000
-- 		-0.000000	 0.000000	 0.000000	-0.000000	 1.000000	-0.000000	-0.000000	 0.000000
-- 		 0.000000	 0.000000	 0.000000	-0.000000	 0.000000	 1.000000	 0.000000	-0.000000
-- 		 0.000000	 0.000000	 0.000000	-0.000000	-0.000000	-0.000000	 1.000000	-0.000000
-- 		-0.000000	 0.000000	 0.000000	-0.000000	-0.000000	 0.000000	-0.000000	 1.000000